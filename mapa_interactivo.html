<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mapa Interactivo: Villa Elvira y alrededores</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <style>
      .map-container {
        height: 80vh;
        position: relative;
      }
      .filter-panel {
        position: absolute;
        top: 10px;
        left: 10px;
        z-index: 1000;
      }
      .legend-panel {
        position: absolute;
        bottom: 10px;
        right: 10px;
        z-index: 1000;
      }
      .high-contrast {
        filter: contrast(1.5);
      }
      #map {
        height: 100%;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid p-3">
      <h1 class="text-center">Mapa Interactivo: Villa Elvira y alrededores</h1>
      <p class="text-center">
        Visualiza zonas inundables, caminos seguros y puntos de encuentro en
        tiempo real.
      </p>
    </div>

    <div class="map-container">
      <div
        class="filter-panel card p-3"
        role="region"
        aria-label="Panel de filtros"
      >
        <h2 class="h5">Filtros</h2>
        <div class="mb-3">
          <h3 class="h6">Zonas inundables</h3>
          <div class="form-check">
            <input
              type="checkbox"
              class="form-check-input"
              id="alto-riesgo"
              checked
            />
            <label class="form-check-label" for="alto-riesgo"
              >Alto riesgo
              <span class="text-danger" aria-hidden="true">●</span></label
            >
          </div>
          <div class="form-check">
            <input
              type="checkbox"
              class="form-check-input"
              id="riesgo-medio"
              checked
            />
            <label class="form-check-label" for="riesgo-medio"
              >Riesgo medio
              <span class="text-warning" aria-hidden="true">●</span></label
            >
          </div>
          <div class="form-check">
            <input
              type="checkbox"
              class="form-check-input"
              id="riesgo-bajo"
              checked
            />
            <label class="form-check-label" for="riesgo-bajo"
              >Riesgo bajo
              <span class="text-success" aria-hidden="true">●</span></label
            >
          </div>
        </div>
        <div class="mb-3">
          <h3 class="h6">Puntos de interés</h3>
          <div class="form-check">
            <input
              type="checkbox"
              class="form-check-input"
              id="refugios"
              checked
            />
            <label class="form-check-label" for="refugios"
              >Refugios <span class="bi bi-house" aria-hidden="true"></span
            ></label>
          </div>
          <div class="form-check">
            <input
              type="checkbox"
              class="form-check-input"
              id="puntos-encuentro"
              checked
            />
            <label class="form-check-label" for="puntos-encuentro"
              >Puntos de encuentro
              <span class="bi bi-geo-alt" aria-hidden="true"></span
            ></label>
          </div>
          <div class="form-check">
            <input
              type="checkbox"
              class="form-check-input"
              id="centros-asistencia"
              checked
            />
            <label class="form-check-label" for="centros-asistencia"
              >Centros de asistencia
              <span class="bi bi-plus-square" aria-hidden="true"></span
            ></label>
          </div>
        </div>
        <div class="mb-3">
          <label for="fecha-datos" class="form-label">Fecha de datos</label>
          <input
            type="date"
            class="form-control"
            id="fecha-datos"
            value="2023-06-15"
          />
        </div>
        <button
          class="btn btn-outline-secondary w-100 mt-2"
          type="button"
          onclick="resetFilters()"
          id="reset-filters"
        >
          Restablecer filtros
        </button>
      </div>

      <div
        class="legend-panel card p-3"
        role="region"
        aria-label="Leyenda del mapa"
      >
        <h2 class="h5">Leyenda</h2>
        <ul class="list-unstyled">
          <li>
            <span class="text-danger" aria-hidden="true">●</span> Zona de alto
            riesgo
          </li>
          <li>
            <span class="text-warning" aria-hidden="true">●</span> Zona de
            riesgo medio
          </li>
          <li>
            <span class="text-success" aria-hidden="true">●</span> Zona de
            riesgo bajo
          </li>
          <li><span class="bi bi-house" aria-hidden="true"></span> Refugio</li>
          <li>
            <span class="bi bi-geo-alt" aria-hidden="true"></span> Punto de
            encuentro
          </li>
          <li>
            <span class="bi bi-plus-square" aria-hidden="true"></span> Centro de
            asistencia
          </li>
        </ul>
      </div>

      <div
        id="map"
        class="high-contrast"
        aria-label="Mapa interactivo"
        tabindex="0"
      ></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/mapa.js"></script>
  </body>
</html>
